<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Users JPA -Eclipselink</title>
	<style>
</style>
</h:head>
<h:body>
	<h2>Users JPA -Eclipselink</h2>

	<h:form>
		<p:accordionPanel>
			<p:tab title="Users">
				<h3>Usuarios</h3>
				<h:selectOneRadio id="radio" value="#{usuarios.idSeleccionado}">
					<f:selectItems value="#{usuarios.usuarios}" var="item"
						itemLabel="#{item.name}" itemValue="#{item.id}" />
				</h:selectOneRadio>
				<p:commandButton value="buscar"
					action="#{usuarios.consultarUsuario(usuarios.idSeleccionado)}"
					update="@form" />

				<h3>User</h3>
				<h:panelGrid column="4">
					<h:outputLabel id="nameId"
						value="Id usuario: #{usuarios.usuario.id}" />
					<h:outputLabel id="nameUser"
						value="Nombre usuario #{usuarios.usuario.name}" />
					<h:outputLabel id="emailUser"
						value="Email usuario: #{usuarios.usuario.email}" />
					<h:outputLabel id="stateUser"
						value="Estado usuario: #{usuarios.usuario.state==1?'Activo':'Desactivado'}" />
				</h:panelGrid>
			</p:tab>
			<p:tab title="Add User">
				<h3>Agregar Usuario</h3>
				<h:panelGrid id="grid" cellpadding="5" columns="2"
					style="margin-bottom:10px">

					<h:outputLabel id="idNewUser" value="Id usuario " />
					<p:inputText id="newId" value="#{usuarios.usuarioNuevo.id}" />

					<h:outputLabel id="nameNewUser" value="Nombre de usuario: " />
					<p:inputText id="name" value="#{usuarios.usuarioNuevo.name}" />

					<h:outputLabel id="passwordNewUser" value="password usuario " />
					<p:inputText id="password"
						value="#{usuarios.usuarioNuevo.password}" />

					<h:outputLabel id="emailNewUser" value="email usuario: " />
					<p:inputText id="email" value="#{usuarios.usuarioNuevo.email}" />

					<p:outputLabel for="state" value="roles:" />
					<p:selectOneMenu id="state" value="#{usuarios.usuarioNuevo.state}"
						style="width:125px">
						<f:selectItem itemLabel="ACTIVO" itemValue="1" />
						<f:selectItem itemLabel="DESACTIVADO" itemValue="0" />
					</p:selectOneMenu>

					<p:outputLabel for="role" value="roles:" />
					<p:selectOneMenu id="role" value="#{usuarios.usuarioNuevo.role}"
						style="width:125px">
						<f:selectItem itemLabel="ADMIN" itemValue="ADMIN" />
						<f:selectItem itemLabel="USER" itemValue="USER" />
					</p:selectOneMenu>

					<p:commandButton value="Agregar nuevo usuario"
						action="#{usuarios.crearUsuario}" update="@form" />



				</h:panelGrid>
			</p:tab>
		</p:accordionPanel>
		<input type="hidden" name="${_csrf.parameterName}"
			value="${_csrf.token}" />
		<p:commandButton value="Atras" action="/pages/index.xhtml" />
	</h:form>
	<br />
</h:body>
</html>
